Question: ¬øD√≥nde se ajusta el contraste para AA/AAA?

Use ONLY the provided snippets. If the answer is not in the snippets, reply with: NEED_FILES: <paths>.

Context:
RAG (semantic matches):
--- README.md (lines 27-72) ---
cent, Background, Surface, Text, Muted**
* Roles claramente definidos para dise√±o de UI
* Jerarqu√≠a visual integrada

### ‚ôø Accesibilidad integrada

* C√°lculo autom√°tico de contraste WCAG (AA/AAA)
* Simulador de daltonismo (protanopia, deuteranopia, tritanopia)
* Auto-fix de contraste manteniendo coherencia tonal

### üåì Tema dual (Light/Dark)

Genera autom√°ticamente variantes light y dark coherentes con m√©tricas de contraste.

### üì§ Exports profesionales

* CSS variables
* Tailwind config
* JSON tokens
* Material UI theme
* Plugins para Figma, Sketch, VS Code
* Apple .clr format

---

## üöÄ Estado del MVP

| Sprint | Feature | Estado |
| ------ | ------- | ------ |
| 0      | Setup fundacional | ‚úÖ Completado |
| 1      | Energy & Tension | ‚úÖ Completado |
| 2      | Field 2D interactivo | ‚úÖ Completado |
| 3      | Palette kits | ‚úÖ Completado |
| 4      | Accesibilidad | ‚úÖ Completado |
| 5      | Free/Pro model | ‚úÖ Completado |
| 6      | Export & persistencia | ‚úÖ Completado |
| 7      | Polish & release | ‚úÖ Completado |
| 8+     | Post-MVP features | üìã Planificado |

**Versi√≥n actual:** MVP funcional y p√∫blico

---

## üìä Posicionamiento vs Competencia

| Aspecto | Coolors | Tona

--- MVP.md (lines 426-479) ---
a distintos tama√±os de paleta.

### Alcance

* Selecci√≥n de 3/5/7 roles
* Reglas de proporci√≥n (60-30-10)
* Recomendaciones de uso por rol

### Entregables

* Selector de tama√±o de kit
* Jerarqu√≠as aplicables en UI

---

## Sprint 16 ‚Äî Tema dual (light/dark)

**Objetivo:** Generar variantes light/dark coherentes.

### Alcance

* Derivaci√≥n autom√°tica dual
* Ajustes de contraste por modo
* Preview simult√°neo

### Entregables

* Paletas duales consistentes
* Preview de UI en ambos modos

---

---

## üìä Evaluaci√≥n Estrat√©gica vs Coolors (estado actual)

### Matriz Comparativa

| Aspecto                | Coolors | Tonal Field | Ventaja |
| ---------------------- | ------- | ----------- | ------- |
| **Entrada r√°pida**     | ‚úÖ      | ‚ö†Ô∏è mejora  | Coolors |
| **Control real**       | ‚ùå      | ‚úÖ          | TF      |
| **Sistema de color**   | ‚ùå      | ‚úÖ          | TF      |
| **Accesibilidad**      | ‚ùå      | ‚úÖ          | TF      |
| **Comunidad**          | Pasiva  | Activa      | TF      |
| **Dev friendliness**   | Media   | Alta        | TF      |
| **Diferenciaci√≥n**     | Baja    | Muy alta    | TF      |

### Estado actual

**Lo que ya gan√°is:**

* Field 2D como diferencial real

--- MVP.md (lines 158-232) ---
ctamente en un producto
* Se percibe como sistema, no como inspiraci√≥n

---

## üü¶ Sprint 4 ‚Äî Accesibilidad y Confianza

**Duraci√≥n:** 4‚Äì5 d√≠as

### Objetivo

Hacer que Tonal Field sea utilizable en producci√≥n real.

### Alcance

* C√°lculo de contraste WCAG:

  * AA / AAA
* Indicadores visuales claros
* **Fix contrast**:

  * Ajuste autom√°tico de lightness
  * Manteniendo el car√°cter tonal

### Entregables

* Badges de accesibilidad
* Correcci√≥n autom√°tica funcional

### DoD

* El usuario no necesita herramientas externas
* Accesibilidad integrada, no opcional

---

## üü¶ Sprint 5 ‚Äî Free vs Pro (Monetizaci√≥n suave)

**Duraci√≥n:** 4‚Äì5 d√≠as

### Objetivo

Introducir el modelo de pago sin romper la experiencia.

### Alcance

* Definici√≥n de l√≠mites Free:

  * Preview de kits
  * Export b√°sico (HEX)
  * Guardado limitado
* Features Pro activables:

  * Kits completos
  * Auto-fix avanzado
  * Guardado ilimitado
* UX de upgrade contextual (no intrusivo)

### Entregables

* L√≥gica Free / Pro
* Mensajes de upgrade claros y elegantes

### DoD

* El valor Pro se entiende antes de pagar
* No hay paywalls agresivos

---

## üü¶ Sprint 6 ‚Äî Export & Persistencia

**Duraci√≥n:** 4‚Äì5 d√≠as

### Obje

--- README.md (lines 1-34) ---
# Tonal Field

Explore color as a continuous space

Tonal Field es una herramienta de dise√±o de sistemas de color que permite explorar el color como un campo continuo, controlado por dos dimensiones intuitivas: **Energy** (Calm ‚Üí Vivid) y **Tension** (Soft ‚Üí Sharp).

A diferencia de herramientas como Coolors que generan paletas aleatorias, Tonal Field ofrece **control inteligente y criterio matem√°tico** para crear sistemas de color utilizables directamente en producci√≥n.

---

## ‚ú® Caracter√≠sticas principales

### üé® Field 2D (Diferencial de producto)

Explora el color como un espacio continuo en lugar de colores discretos. Manipula Energy y Tension para entender c√≥mo se relacionan los colores.

### ‚ö° Energy & Tension

* **Energy:** Controla la saturaci√≥n y vivacidad (Calm ‚Üí Vivid)
* **Tension:** Define la armon√≠a y contraste (Soft ‚Üí Sharp)
* Algoritmo propio basado en m√©tricas de color OKLCH

### üéØ Palette Kits

Generaci√≥n autom√°tica de sistemas de color utilizables:

* **Primary, Accent, Background, Surface, Text, Muted**
* Roles claramente definidos para dise√±o de UI
* Jerarqu√≠a visual integrada

### ‚ôø Accesibilidad integrada

* C√°lculo autom√°tico de contraste WCAG (AA/AAA)
* S

--- MVP.md (lines 614-628) ---
te MVP:

* No es un "color picker"
* Es un **marco conceptual + herramienta pr√°ctica**
* Est√° preparado para crecer (AI, teams, presets, comparaci√≥n)
* **Estrat√©gicamente:** Ya vence a Coolors en profundidad. Pr√≥ximo paso es mejorar accesibilidad/claridad.

Si quieres, el siguiente paso l√≥gico ser√≠a:

* convertir estos sprints en **issues t√©cnicas**, o
* redactarlos como **documentaci√≥n de TFG / pitch deck**, o
* bajar uno de los sprints (por ejemplo el 1 o el 2) a **pseudo-c√≥digo y arquitectura real**.

T√∫ decides por d√≥nde seguimos.

Snippets (rg matches):
--- app\guides\color-blindness\page.tsx (match at 43) ---
40:         <h2>Design Principles</h2>
41:         <ul>
42:           <li>Never use color alone to convey meaning</li>
43:           <li>Provide sufficient contrast (WCAG AA/AAA)</li>
44:           <li>Test with color blindness simulators</li>
45:           <li>Use luminance (lightness) as primary cue</li>
46:           <li>Pair colors with patterns or icons when critical</li>

--- lib\color\tonal.ts (match at 104) ---
101:  * Material Design 3 principle:
102:  * - 40 tone difference ‚âà 3.0:1 contrast ratio
103:  * - 50 tone difference ‚âà 4.5:1 (WCAG AA minimum)
104:  * - 60 tone difference ‚âà 7:1 (WCAG AAA)
105:  *
106:  * This is more predictable than WCAG's relative luminance calculation
107:  * because OKLCH L* is perceptually linear

--- app\guides\wcag-contrast\page.tsx (match at 6) ---
3: 
4: export const metadata: Metadata = {
5:   title: 'WCAG Contrast Guide - Tonal Field',
6:   description: 'Master WCAG 2.1 contrast requirements for accessible color systems. Learn AA vs AAA and how to test contrast ratios.',
7: };
8: 
9: export default function WcagContrastGuide() {

--- app\guides\wcag-contrast\page.tsx (match at 46) ---
43:               <td style={{ padding: '12px' }}>3:1</td>
44:             </tr>
45:             <tr>
46:               <td style={{ padding: '12px' }}>AAA (Enhanced)</td>
47:               <td style={{ padding: '12px' }}>7:1</td>
48:               <td style={{ padding: '12px' }}>4.5:1</td>
49:             </tr>

--- app\guides\wcag-contrast\page.tsx (match at 58) ---
55:         <h2>Best Practices</h2>
56:         <ul>
57:           <li>Always test text on background combinations</li>
58:           <li>Aim for AAA where possible (7:1 ratio)</li>
59:           <li>Use Tonal Field&apos;s built-in contrast checker</li>
60:           <li>Test with real users when possible</li>
61:           <li>Don&apos;t rely on color alone for meaning</li>

--- app\guides\page.tsx (match at 34) ---
31:     },
32:     {
33:       title: 'WCAG Contrast Guide',
34:       description: 'Understand WCAG 2.1 requirements. Learn AA vs AAA levels and how to ensure accessible color pairs.',
35:       href: '/guides/wcag-contrast',
36:       icon: '‚ôø',
37:     },